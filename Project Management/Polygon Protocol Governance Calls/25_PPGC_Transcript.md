# Polygon Protocol Governance Call: Transcript

### Attendees

Akshat Gada, Ayush Bhadauria, Ben Rodriguez, Carlos Gonzalez Juarez, Dimitri Nikolaros, Fireflies.ai Notetaker Bruno, Fireflies.ai Notetaker Hyung-K, Fireflies.ai Notetaker Nikhil, Harry Rook, Harry Rook's Presentation, Hyung-Kyu Choi, Jerome de Tychey, Jumanzi's Notetaker, Konstantin Ivanov, KP / algo|stake, Liminal Notetaker, Mariano Conti, Mateusz Rzeszowski, Matt, Michael Mugno, Michel Muniz, Mirella Guglielmi, Nikhil Chaturvedi, Parvez Shaikh, Paul Drennan, Quentin de Beauchesne, Sajal Agrawal, Sandeep Sreenath, Sanket Saagar Karan, Simon Dosch, Stream, Tanisha Katara, Vasanti Rode

#### _This editable transcript was computer generated and might contain errors. People can also change the text after it was created._

Harry Rook: Welcome everyone to PPGC number 25. A couple of exciting topics to discuss today. So First of all, ahmedabad hard forks, successfully, landed on Mainnet earlier today. So hats off to all the developers on the call that made that possible. So yeah, the first point of action will be to just do a debrief on how that went. So we have Sandeep on the call who's gonna do a run through of the rollout on how things are looking in terms of network health on mainnet right now, we'll also do a retrospective look back on the testnet phase as well. So we have vault stake in on the call today from the American made. So they'll be doing a brief recap of how things went on the testnet. Obviously we know things went smoothly, but I think it's good to cover the details of these things.

Harry Rook: And then the second point of action is the updates to the Protocol Council. So there was a proposal posted a couple of days ago, PIP 47, which kind of specifies an upgrade to one of the key apparatus of the Protocol Council. So we have a few of my esteemed colleagues mateusze and tanisha, as well as a special guest from Aragon, who will be doing a run through the proposal kind of from a high level and then we'll get into the nitty gritty of things as well. So yeah, without further ado, I think we have Sandeep on the call. Yeah, I'm gonna hand it over to you Sandeep. If you want to do a quick overview of how things went, with the Ahmedabad hard fork and yeah, we can get things rolling.

Sandeep Sreenath: Thanks, Hello Yeah, as Harry was saying earlier today, Ahmedabad hard fork went live on POS Mainnet precisely around 14 hours ago. Yeah. And all the network parameters are looking good. We observed that 100% of the validators signed some of those immediate checkpoints after the hard fork. So, yeah. And we've also verified all the changes in Mainnet after the hard fork.

Sandeep Sreenath: All the PIP’s that were part of this hard fork were basically PIP 30, which increases the max code size limit to 32 KB from the current 24 KB. A PIP 36, which adds a very important feature to replay failed states in transactions. I think Simon will be able to cover it in more detail for the call and also 45, which is the ticker change of the token. Ticker change from MATIC to POL on the POS network as well.

Sandeep Sreenath: Yeah, so I just want to highlight that there was a minor issue, which we found in Amoy after the Ahmedabad hard fork where the MATIC to POL migration was not effective. Basically, which was identified immediately after the hard fork went live on Amoy and it was fixed in the release for Mainnet. So there were no issues in Mainnet, and of course we had to roll out another quick hard fork on Amoy network called Gandhinagar Hard Fork, which was basically to fix this issue. And again kudos to all the validators, Amoy validators who were available at short notice, yeah. And

Sandeep Sreenath: Yeah, so just to give a brief about this bug or the issue that we found basically, when we do a hard fork and there's a contract change the byte code changes in the contract. So what happens is, the init code doesn't work and we were depending on the code in the init function and init method for a few things, right. So yeah and then because the hard fork just replaces the byte-coding doesn't run the init code. That's where the issue was. the team was quick to identify it and also roll out the fix and the fix was very simple it's just to not depend on the init code at all. So yeah, that again kudos to the team to have identified and fixed the issue. So I mean the mainnet hard fork went smooth and once again thanks to all the validators and node operators for your support in achieving another smooth hard fork on mainnet. 

00:05:00

Sandeep Sreenath: Yeah, I guess that's all I wanted to cover. is Simon on the call.

Simon Dosch: Yes, I'm here.

Sandeep Sreenath: Yeah, so Simon. Maybe if you can briefly cover, what PIP 36 is or what are the next steps? Maybe that will be helpful.

Simon Dosch: Yes, so basically, PIP 36, we're making the state sync mechanism a bit more robust. Again, there were a few cases of state sync’s failing, and this was because of a very old change. Where we were still using the dot transfer method in solidity, which has a fixed gas limit. And that meant that for some cases of smart wallets, they were unable to receive tokens. So if you sent a token to POS, and the receiver was a smart contract wallet that when receiving the tokens did any additional computations maybe in the smart contract, this transaction failed. And since that is something that we don't really expect to happen, it meant that the whole state sync basically failed and up until now there is no way of getting those funds and they were just stuck and there was no way of replaying the state sync basically. And we've now added that there were a couple of cases where quite some money was stuck in there which is, of course, undesirable and I feel like this is actually a pretty cool thing because from now on we will be actively tracking failed state sync’s, because we might have different reasons for them to fail in the future, we don't know. And if that happens we will just very easily be tracked on chain and then once the underlying issue where they failed has been fixed which for the specific thing that I just described we have now, Then we can just replay it and then people will get their funds and they'll be happy hopefully. So yeah, for this specific thing, with this hard fork as well, and we fixed this dot transfer issue. That means that once we activate this feature, people will be able to replay these certain state sync’s. And we'll finally receive some MATIC or some tokens that have been stuck on the bridge for a while now. so that's pretty cool and last step basically, in order for us to do that we will upload a Merkel root against which you can basically prove that your state sync is a part of the list of failed state things that we've identified. And then if that's the case, the contract will attempt to replay it and if it works, it will go through. That's the whole magic. Yeah, that's it.

Harry Rook: Amazing stuff, Awesome Thanks Simon as well Sandeep. Yeah, any questions guys before we move on to the testnet kind of portion.

Harry Rook: All right, cool. Yeah. Do we have anyone from vault stake on the call? Just to briefly go over Testnet phase.

Michael Mugno: We sure do.

Harry Rook: Yeah, do you want to dive in.

Michael Mugno: Good morning everyone. I'm Michael from Vault staking, you'll know me as algorithm on the discord and any other media channels just running historically. We've had a lot of bor upgrades probably since the last PPGC looking at 1.3.4 through 1.3.7, the team produced some pretty quick bug fixes within a month's time. Upgrading through those three or four different upgrades. Bor 1.3.6 was released for a security bug and a big thanks to the team and both the Amoy and Mainnet validators for getting that up and running in Mainnet pretty quickly. And then more recently the 1.4.1 Bor release that was a pretty big security bug for the parallel execution was just released back on the 18th of September. And again a quick upgrade by the mainnet validators, same on the Amoy testnet. Seems like 1.4.1 is our latest release and has been pretty stable and seeing a lot of good things from that. It's a big thanks to the team. But since then back in the 1.3’s, we saw some issues with a lot of the validators and even node runners, seeing an error chain out of sync messages, which has really been a thing of the past back then still happens every once in a while. But I think the team has found that an issue and run that to the ground. Since then obviously as Sandeep mentioned, we had the Ahmedabad Hard Fork back on September 12th which was the 1.4.0 beta release.

00:10:00

Michael Mugno: the whole Amoy validators were able to upgrade that one successfully in terms of a launch and release. And then as Sandeep mentioned, we had to have the 1.4.0 Beta 2 release to fix that W-Matic to W-POL transition, which is a hard fork on the 18th. So that days ago, as far as we've seen from the validators, on Amoy things that burned pretty smoothly very little downtime, if any and that downtime was kind of rectified pretty quickly. So, right now, most of us are running at 100% uptime for the past 14 days, which is great. Just for everyone's awareness of the latest versions Heimdall hasn't changed recently, 1.0.7 is latest for Heimdall, version 1.4.1 is the latest for Bor and version 2.60.8 is the latest for  I believe that is accurate for both Mainnet and Amoy right now. And kudos to the team for having a successful hard fork on mainnet this morning. great job. Anyone happy to expand on any of those points, but that's kind of it from the Amoy validators.

Harry Rook: Yeah, thanks for the overview, I mean, any questions guys, any other points that you want to ask Michael about? If not, we can move on, but yeah, just a final hat tip toward the Amoy, validators and the POS devs. So another smooth hard fork. So yeah, well done guys.

Harry Rook: Okay, let's move on So next on the agenda is the upgrade to the protocols. So Yeah Mateusz I don't know if you want to do a high level overview, happy to share screen and kind of present the proposal or however you want to do it.

Mateusz Rzeszowski: Sounds good. I think you can pull up PIP 47.

Mateusz Rzeszowski: Hello everyone. To those who may not know me, my name is Mateusz or Matt, I lead governance at polygon and the proposal that was recently posted PIP 47 relates very closely to PIP 29, which was posted and implemented late last year. The proposal was responsible for introducing a protocol council that would govern the upgradable System Smart contracts on L1. Now, when this proposal happened, the frameworks are and were fairly limited in what could be done with them. Meaning several safe contracts were deployed to cover the two execution tracks, which were assigned to the Protocol Council. The first one. A seven out of 13 Consensus requirement with a 10-day time lock. That would be the regular track and then the Emergency track, which is the 10 out of 13 consensus requirement with no time lock. As a reminder, the Protocol Council is meant to govern upgradable systems Smart contracts starting with the POL token contract. And so the limitation meant that we could only assign one upgradable component to each of the multisig’s meaning that now dual execution was possible. Now, PIP 47 rectifies that and as such finalizes the implementation of PIP 29 and together with the Aragon team, we were able to research and implement a contracts framework that would essentially implement PIP 29 as it was supposed to be and I'll pass on to Carlos from the Aragon team who will guide us into the technical details of the proposal.

Carlos Gonzalez Juarez: Hello and Carlos, I don't see Dr. We've been building on change governors to Lyn sings 2016 2016 and partner with polygon as just a lot of learnings that we've have come through the process and working with you guys through this campaign has been quite great. I wanted to go through the technical work of how this works. If we can go exactly into the specification part like that's the main thing that you need to understand how it works architecturally. We have a contract which is the DAO.sol, don't be scared, It's not a DAO, its just literally a contract that allows for executioners on certain governance decisions, And then that is connected to the multisig plug-in into polygon, you could connect many others in this case.

00:15:00

Carlos Gonzalez Juarez: There's the connection that you have. And in the middle, you have a plugin setup which is basically what is in charge of the permissions between the two. And I'm going to go through the details of all of them. But if you want to have an overview of how architecturally this works, that's it. You have a contract that executes, which is the DAO.sol, an executor. You have a governor which is the Multi-threshold multi-sig plugin and in the middle you have a setup which ensures that all the permissions between them both are actually aligned and are safe.

Carlos Gonzalez Juarez: And something very important is like what I'm saying about the permissions, they're very easy to send you basically say, Where do you want to do the permission? Against who is being allowed to do that permission and what's the permission? So it's very simple and we'll go over which ones are set for these and then I'm talking about the executors, so DAO.sol and then you have an execute function that we have. Down below. and this execute function is being called by the Governor aka the multi-threshold multi-sig. But the DAO doesn’t have any context on when or what to execute. Again, the DAO.sol, It's an executor. And you can pass in whatever you want, or what the governor in this case, the multisig wants to execute.

Carlos Gonzalez Juarez: At the end, you have an allow failure map. This is something quite cool that can be used which basically allows you to tell if in this cold data that you want to execute or this, in this array of actions we call them actions. I want the first one to be able to fail, I want the second one to be able to fail as well. The third one, it's enforceables like it needs to go through cannot revert and the last one, it can revert, I don't care. It's like you can decide the immensity of your executions however you want. So, for example, you can say, I don't care if these transactions fail but the last one, it's a cleanup. that has always to be executed. That's one of the nice things that we have, it allows you for very customizability on your transactions.

Carlos Gonzalez Juarez: And then we go down below into the permissions again. You have the executor, the DAO.sol contract and then multi-threshold multi-sig plugin. The permissions are attached between them are three. The first one is granting the DAO to update the plugin settings. So for example we just said that it's going to be a seven out of 13. What if you want to upgrade that somehow? Just sign the DAO, the permissions to change that. So when the plugin wants to change in settings, It creates an execution or a proposal that whenever it's passed, it goes through, executor and goes back to the plugin and changes settings. The other three permissions that you have is to upgrade the plugin itself. So let's say that we want to do a change or add a new feature to the plugin. That's how you do it and the last permission that you attached to it is the execution permissions so the governor all multi-seek can execute From the DAO. And at the end of the day, the DAO is the one that is always going to have any permissions to other or ownership or other contracts. Such as a POL token. This is this way because the multistake plugin can be changed upgraded a new functionality, whatever you need. And upgrade over time to whatever needs the community needs. And you don't have to change the address of the executor. So that's kind of like one of the key pieces of architecture.

Carlos Gonzalez Juarez: What we have the permissions over these three components. We're going to what's actually the functionality or how it works, how we achieve the features that were describing the PIP. the third one is a great proposal. It's quite simple. You define some metadata that is stored in IPFS. then some actions which is basically the executions. If you want to approve the proposal, once you create it, and then start date. and if it's an emergency proposal, we'll go into what is that in a second. For the metadata, It's very open. You can set up any metadata that you like, But we do require some. Inputs that are not enforced contain but I require in the UI to actually display all the information, I'm talking about titles, summary, description, resources. You name it like that. A bunch of things that we need in the UI to actually give you a good experience, but they are not required to be onchain because there is no checkers on what's in the title, yeah. The rest of the parameters are quite straightforward. So I don't think we have to go that much into them. I think the most important one in this case is the actions. I love failure map. We just said the transactions and then if it's an emergency proposal or not,

Carlos Gonzalez Juarez: so, once you create In the proposal. Something that is also stored. It's the settings of the current state. So Only listed it means that members can create proposals or not. So normally that's going to be always true. So only the members of the multi-sig can create a proposal and then we have things as the minimum number of approvals. You understand that approvals is a minimum number of approvals required for an emergency proposal to pass and again, us like a second, the delay duration is kind of a time lock running in the middle, and we'll go over that.

Carlos Gonzalez Juarez: And yeah those are the minimum and then minExtraDuration is kind of like the time that members have to approve the proposal and again I'm going super fast. I'm going to go into the detail now, so don't worry that much. So once you create a proposal, and it stores all the data that is required for that proposal in that state. And members can approve it. So the member call approve function and it approves and you need to hit the threshold of the minimum number of approvals. If you have created the proposal after an emergency, it obviously requires to See the first of all the minimum threshold for emergency which is higher, it's 10 out of 13. Once you hit those minimum requirements of approvals. There are two things that can happen. If a proposal was an emergency good, it's Emergency, you can execute right away.

Carlos Gonzalez Juarez: So again, this emergency approval bypass anything else, you approve, it gets executed, but obviously, You need a higher threshold, you need a higher number of approvals. In this case, 10 out of 13, which is quite a lot. It's not easy to execute, but it's doable. If it's an emergency, And there's nothing much in the emergency, it's very simple. If you reach the quorum. You execute, super cool. But what if the proposal is not an emergency? So, if you didn't set the proposal emergency, right after you got the minimum approvals, it gets into the time lock or the delay, which is two weeks if I remember correctly. But it can be changed in the settings of the plugin. That's the time that often users have to express their opinions.

Carlos Gonzalez Juarez: That is if they don't like the execution that is going to happen or the upgrade that is going to happen, they can express their opinions offchain and vote there if they want to veto that proposal. Again, that's so it can be upgraded over time. We can change the governance models. Yeah, yeah. I like After that delay. The interesting part. Here is You don't just execute because what happens if users say, now that we think about it, we saw an issue there. So we want to veto. you don't want to execute, so it's not a normal time Lock, for example happens with governor in which, after passing seven days or whatever you execute not here.

Carlos Gonzalez Juarez: Since we want to be able to pick up those possible issues. After that, delay, or time lock has happened, There is a confirmation period, which is where members come back to the proposal and decide to confirm that they actually want to execute the proposal. The number of confirmations is the same as approvals. So it's seven out of 13 as well. Once they have confirmed again, the proposal here, which is the final state and they can execute. Also, there is a setting to allow only the members to execute or anyone, any address to execute. So for now it's open, but if in the future we wanted to close it only to members to execute, that is also possible. Yeah, after that process you got the whole thing of creating a proposal, approving it. And finally, executing the actions that initial expected he got from the governor to the executor. And yeah, that's it, Any questions?

Harry Rook: Awesome, nicely done Carlos. Yeah, do we want to briefly go into the security considerations backward compatibility type of thing? Unless anyone has any questions that they want to raise? But yeah, maybe we could just briefly dive into that.

Carlos Gonzalez Juarez: Yeah. Yeah, Sorry forgot about that. So there is nobody that has passed already. We are going through the whole process of the internal polygon security review. By the way. The team is doing an amazing job over there. They're taking a look at every single thing. I'm loving it actually.

Carlos Gonzalez Juarez: The first holiday, as I said with external party was on with Halborne that is done and finished for the permission managers like the permissions and also the executor. We've done two audits in the past and it's already governing hundreds of millions of dollars. So that's also pretty like a lot of Lindy, the plugin itself which is custom made for polygon. That's what I'm saying that it has already passing now our review by the security team polygon,

Harry Rook: Awesome, amazing stuff. I think the intention is to add a link to the forum post, right with a bunch of the repos with the security on it, results and everything.

Carlos Gonzalez Juarez: Correct, So the origins are public already, it can be public already. So we'll be posting it fairly soon. I would say

Harry Rook: Okay, Yeah, perfect thanks Carlos. I'm Mattis as well. Cool. Yeah. Any other questions any thoughts? On that one.

Harry Rook: Yes, Matt feel free to jump in.

Mateusz Rzeszowski: One note from my end. I think the intention is once we are clear with security to propose this upgrade, to the protocol council, unless there's opposition coming from any direction, but that's the general intention.

Harry Rook: Yeah, I don't know if we have anyone from the council on the call, but if not we can send them The recording, Get them up to speed.

Harry Rook: Okay, yeah, awesome, yes. So, with approval from the Council, we can move ahead with that one. And yeah that's all the agenda points we had for today, guys. So unless anyone has any small ad hoc things they want to quickly raise then. I think we can probably wrap it up a little bit.

Harry Rook: All right, perfect cool. Thank you very much guys. That's it. The Amoy validators and devs, to Carlos to Mateusz, to Tanisha, as well, who pushed that PIP forward. And yeah, thank you all for a good call. Guys. Next one's on 17th of October, so yeah, hopefully, see all there again.

Sandeep Sreenath: Thank you.

Meeting ended after 00:28:57 👋

This editable transcript was computer generated and might contain errors. People can also change the text after it was created.
